
<tf-form-page-card>
	<tf-form-title type="page" slot="title">
		<tf-h3>
			Create Course
		</tf-h3>
	</tf-form-title>

	<form [formGroup]="form" (ngSubmit)="onSubmit()">

		<tf-ng-input 
			[label]="'Course Name'" 
			[name]="name"
			[type]="'input'"
			[placeholder]="'Course Name'"
			[error]="name.touched && name.invalid"
			[formControl]="name"
			[errorMessage]="
					name.errors && name.errors.required
					? 'Please Provide a Course Name'
					: ''
			"
		>
		</tf-ng-input>

		<tf-ng-textarea
			[label]="'Course Description'" 
			[name]="desc"
			[rowCount]="6"
			[placeholder]="'What is the course about?'"
			[error]="desc.touched && desc.invalid"
			[formControl]="desc"
			[errorMessage]="
						desc.errors && desc.errors.required
						? 'Please Provide a Course Description'
						: desc.errors && desc.errors.minlength
							? 'The Course Description should be at least ' + desc.errors.minlength.requiredLength + ' characters long. (' + (desc.errors.minlength.requiredLength - desc.errors.minlength.actualLength) + ' characters to go!)'
							: ''
				"
		>
		</tf-ng-textarea>

		<tf-ng-select
			[label]="'Course Type'" 
			[name]="type"
			[formControl]="type"
			[error]="type.touched && type.invalid"
			[errorMessage]="
				type.errors && type.errors.required
					? 'Select a course type'
					: ''
			"
		>
			<tf-select-option attr.value="{{ null }}">
				Select a course type
			</tf-select-option>
			<tf-select-option 
				*ngFor="let type of courseTypes"
				attr.value="{{ type.value }}"
			>
				{{ type.name }}
			</tf-select-option>
		</tf-ng-select>	

		<test-radio-group 
			label="'Course Status'" 
			name="statusgroup"
			[formControl]="status"
			description="What is the initial status when the course is published?"
			[error]="status.touched && status.invalid"
			[errorMessage]="
				status.errors && status.errors.required
					? 'Select a course status'
					: ''
			"
		>
			<tf-radio 
				name="pending" 
				group-name="statusgroup"
				label="Pending" 
				hint="The course isn't due to start straight away, a start date can be set once it is published"
				checked
			></tf-radio>
			<tf-radio 
				name="live" 
				group-name="statusgroup"
				label="Live" 
				hint="The course is available from the day it is published"
			></tf-radio>
			<tf-radio 
				name="archived" 
				group-name="statusgroup"
				label="Archived" 
				hint="This course is not intended to be active"
			></tf-radio>
			
		</test-radio-group>


		<tf-ng-file-select
			label="Cover Image" 
			[name]="image"
			[formControl]="image"
			selectMessage="Choose an image"
			dropMessage="or drag one into here"
			icon="cloud-upload"
			hint="Select an image for the course cover image"
			accept="image/*"
			[error]="image.touched && image.invalid"
			[errorMessage]="
				image.errors && image.errors.required
					? 'Select a course cover image'
					: ''
			"
		></tf-ng-file-select> 
		<!-- <app-file-upload formControlName="image"></app-file-upload> -->

<!-- 
		<test-file-select
		label="Your CV" 
		name="dataFile"
		icon=''
	></test-file-select> -->

	<!-- <test-file-select
		label="Cover Image" 
		name="coverImg"
		hint="Select an image for the course cover image"
		accept="image/*"
		selectMessage="Choose an image"
		dropMessage="or drag one into here"
	></test-file-select> -->
<!-- 
	<tf-divider></tf-divider> -->
	
	<!-- <test-file-select
		label="Upload Data" 
		name="csvData"
		accept=".csv"
		multiple="false"
		icon="cloud-upload"
		errorMessage="You must select a picture to upload"
		error
	></test-file-select> -->
<!-- 
	<tf-divider></tf-divider> -->

	<!-- <test-file-select
		hideLabel="true"
		label="Evidence" 
		name="coverImg"
		disableDragDrop
		selectMessage="Select a file"
		errorMessage="You must select a file to upload"
		error
	></test-file-select> -->
<!-- 
	<tf-divider></tf-divider> -->


	<!-- <test-file-select
		label="File upload" 
		name="file4"
		disableDragDrop
		selectMessage="Select a file"
		hint="Select a file from your system"
		icon="upload"
	></test-file-select> -->

	<tf-divider></tf-divider>

	<!-- <test-file-select
		label="Upload Data" 
		name="file5"
		disabled
		displayState="success"
		displayStateMessage="Upload Complete!"
	></test-file-select> -->

	<!-- <test-file-select
		label="Upload Data" 
		name="file6"
		disabled
		displayState="failed"
		displayStateMessage="Upload Failed"
		error
		error-message="The file didn't upload. Please try another file"
	></test-file-select> -->
<!-- 
	<test-file-select
		label="Upload Data" 
		name="file7"
		disabled
		disableDragDrop
		displayState="success"
		displayStateMessage="Upload Complete!"
	></test-file-select> -->

	<!-- <test-file-select
		label="Upload Data" 
		name="file8"
		disabled
		disableDragDrop
		displayState="failed"
		displayStateMessage="Upload Failed"
		error
		errorMessage="The file didn't upload. Please try another file"
	></test-file-select> -->
<!-- 

		<tf-divider></tf-divider> -->

		<tf-ng-checkbox 
			[name]="isSignedOff" 
			[label]="'Course has been Signed Off'" 
			hint="You must confirm that the course has been Signed Off"
			[formControl]="isSignedOff"
			[error]="isSignedOff.touched && isSignedOff.invalid"
			[errorMessage]="
				isSignedOff.errors && isSignedOff.errors.required
					? 'Please confirm that the course has been Signed Off'
					: ''
			"
		></tf-ng-checkbox>

		<tf-divider></tf-divider>

		<tf-ng-checkbox 
			[name]="courseEnabled" 
			[label]="'Enable Course'" 
			[formControl]="courseEnabled"
		></tf-ng-checkbox>

		<tf-node-flex-fxr>

			<tf-button-light-dom 
				slot="fxr"
				colour="aqua" 
				button-type="submit"
				[disabled]="!form.valid"
			>
				Submit
			</tf-button-light-dom>

		</tf-node-flex-fxr>
	</form>
		
</tf-form-page-card>

